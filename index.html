<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register and Login</title>
    <link rel="stylesheet" href="css/style2.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
          
          
</head>
<body>
<header>
    <h2 class="logo">Pet Adoption</h2>
    <nav class="navigation">
        <a href="#">About Us</a>
        <a href="#">Contact Us</a>
        <button class="btnLogin-popup">Login</button>
    </nav>
</header>
<div class="wrapper">
    <span class="icon-close"><ion-icon name="close-outline"></ion-icon></span>
    <div class="form-box login">
        <h2>Login</h2>
        <form action="php/check-login.php" method="post">
            <div class="input-box">
                <span class="icon"><ion-icon name="person"></ion-icon></span>
                <input type="text"  id="username" name="username" required>
                <label>Username</label>
            </div>
            <div class="input-box">
                <input type="password" id="password" name="password"required>
                <span class="icon" onclick="togglePasswordVisibility('password')"><ion-icon name="eye-off"></ion-icon></span>
            
                <label>Password</label>
              
            </div>
            <div>
                <select class="form-select mb-3" name="role" aria-label="Default select example" required>
                    <option value="" disabled selected>Select role</option>
                    <option value="adopter">Adopter</option>
                    <option value="shelter">Shelter</option>
                    <option value="volunteer">Volunteer</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
           
            <button type="submit" class="submitBtn">Login</button>
            <div class="login-register">
                <p>Don't have an account? <a href="#" class="register-link">Register</a></p>
            </div>
        </form>
    </div>
    <div class="form-box register">
        <h2>Registration</h2>
        <form action="php/register.php" method="post" id="registration_form">
            <div class="input-box">
                <span class="icon"><ion-icon name="person"></ion-icon></span>
                <input type="text" id="username" name="username" required>
                <label>Username</label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input type="email" name="email" id="email" required>
                <label>Email</label>
            </div>
        
            <div class="input-box">
                <input type="password"id="register_password" name="register_password" required>
                <span class="icon" onclick="togglePasswordVisibility('register_password')"><ion-icon name="eye-off"></ion-icon></span>
               
                <label>Password</label>
              
            </div>
            <div class="input-box">
                <input type="password"id="confirm_password" name="confirm_password" required>
                <span class="icon" onclick="togglePasswordVisibility('confirm_password')"><ion-icon name="eye-off"></ion-icon></span>
              
                <label>Confirm Password</label>
              
            </div>
            <div>
                <select class="form-select mb-3" name="role" aria-label="Default select example" required>
                    <option value="" disabled selected>Select role</option>
                    <option value="adopter">Adopter</option>
                    <option value="shelter">Shelter</option>
                    <option value="volunteer">Volunteer</option>
                </select>
            </div>
    
            <button type="submit" class="submitBtn">Register</button>
            <div class="login-register">
                <p>Already have an account? <a href="#" class="login-link">Login</a></p>
            </div>
        </form>
    </div>
</div>
<script src="script.js"></script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
    function togglePasswordVisibility(inputId) {
        var passwordInput = document.getElementById(inputId);
        var toggleIcon = passwordInput.nextElementSibling.querySelector("ion-icon");
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            toggleIcon.name = "eye";
        } else {
            passwordInput.type = "password";
            toggleIcon.name = "eye-off";
        }
    }
    </script>
    <script>    document.getElementById('registration_form').addEventListener('submit', function (e) {
        var password = document.getElementById('register_password').value;
        var confirmPassword = document.getElementById('confirm_password').value;

        if (password !== confirmPassword) {
            e.preventDefault(); // Prevent form submission
            Swal.fire({
                title: 'Error!',
                text: 'Password does not match',
                icon: 'error',
                confirmButtonText: 'OK'
            });
        }
    });</script>
       <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check for the 'error' parameter in the URL
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('error')) {
                Swal.fire({
                    title: 'Login failed!',
                    text: 'Invalid username, password, or role. Please try again.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
            }
        });
    </script>
   <script>
    
    document.addEventListener('DOMContentLoaded', function() {
        // Check for the success parameter in the URL
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('success')) {
            Swal.fire({
                title: 'Success!',
                text: 'Congratulations, your account has been successfully created',
                icon: 'success',
                confirmButtonText: 'OK'
            });
        }
   
    });
    </script>
</body>
</html>
